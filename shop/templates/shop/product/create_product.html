{% extends "base.html" %} 
{% block title %}
Create Product
{% endblock %}
{% block content %}
<div class="container-fluid bg-light p-5 shadow-lg mt-5">
    <div class="col-md-6">
        <h1 class="display-4 text-center m-4">Create Product</h1>
        <form method="POST" action="{% url 'shop:create_product' %}" enctype="multipart/form-data">
            {{form.as_p}}
            {% csrf_token %}
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-outline-primary">Create Product</button>
            </div>
        </form>
    </div>
</div> 
{% endblock %}
{% block script %}
<script>
    let nameField = document.querySelector('#id_name');
    let slugField = document.querySelector('#id_slug');
    slugField.disabled = true;
    nameField.addEventListener('input', function (e) {
            let nameContents = e.target.value.split(" ");
            console.log(nameContents);
            let string = "";
            for (let i = 0; i < nameContents.length; i++) {
                string += nameContents[i].toLowerCase();
                if(i != (nameContents.length -1)) string += '-';
            }
            slugField.value = string.trim("-");
        });
</script>
{% endblock %}